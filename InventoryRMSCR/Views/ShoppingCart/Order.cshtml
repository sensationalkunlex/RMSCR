
@{Layout = "~/Views/Shared/_Layout.cshtml";} @*Use custom layout*@

@using InventoryRMSCR.Models;
@{
    ViewBag.Title = "Your Cart";
}
@*Heading*@

<h2 class="wow fadeInUp">Your Cart</h2>

@using (Html.BeginForm("update", "ShoppingCart", FormMethod.Post))
{
    @*Cart*@
<table class="table table-striped table-hover col-lg-offset-1 col-md-6" style=" width:43%;">

    @*Table Headings*@
    <tr>
        <th>Product ID</th>
        <th>ProductName</th>
        <th>Available Quantity</th>
        <th>UsedQuantity</th>
        <th>Option</th>

        @*<th>FactoryQuantity</th>*@

    </tr>
    @{
        decimal s = 0; // To Store total
    }
    @foreach (Items item in (List<Items>)Session["cart"]) // Display each item from cart
    {

        //s = s + item..Price * item.Quantity; // Get the Sum of all products

        <tr>

            @*ActionLink to remove products based on their id*@

            <td>@item.Produc.ProductID</td>
            <td class="form-control-static">
                @item.Produc.ProductName
            </td>
            <td>@item.Produc.qty</td>
            <td><input type="number" name="quantity" value="@item.Quantity" class="form-control col-md-1 " /></td>
            @*<td>@Html.TextBoxFor(model => model.FactoryQtyU, new { @class = "form-control" })</td>*@

            <td>
    @Html.ActionLink("Remove ", "Delete", "ShoppingCart", new { id = item.Produc.ProductID }, new {@class="form-control" })
</td>

        </tr>
    }
        
    <tr>
        <td align="right" colspan="3"><strong><span class="alert-danger">@ViewBag.Error</span></strong></td>
        <td> <input type="submit" value="Update" class="form-control btn-primary" /></td>
    </tr>
    <tr>
    <td align="right" colspan="3"><strong></strong></td>
    <td>
        @Html.ActionLink("Complete the Transaction", "FinalPage", "ShoppingCart",null, new { @class = "btn btn-success" })
        </td>
    </tr>

</table>

}
  
<div class="row">
    <div class="col-lg-offset-4 col-md-8">
        <p>
        </p>
    </div>
</div>

<p>
    @Html.ActionLink("Go back Homepage", "Index", "Home")
</p>


